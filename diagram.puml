@startuml Slime Domination Class Diagram

skinparam classAttributeIconSize 0
skinparam backgroundColor #FEFEFE
skinparam class {
    BackgroundColor #FFFFFF
    BorderColor #333333
    ArrowColor #666666
}

' Main package
package "com.main" <<Rectangle>> {
    class Main <<JFrame>> {
        - {static} {final} WINDOW_WIDTH : int = 1600
        - {static} {final} WINDOW_HEIGHT : int = 900
        - mainPanel : JPanel
        - cardLayout : CardLayout
        - player : PlayerSlime
        __constructor__
        + Main()
        __methods__
        + showPanel(panelName : String) : void
        + startGame() : void
        + getPlayer() : PlayerSlime
        + resetPlayer() : void
        + {static} main(args : String[]) : void
    }
    
    class MenuPanel <<JPanel>> {
        - backgroundImage : BufferedImage
        - slimeImage : BufferedImage
        - mainFrame : Main
        __constructor__
        + MenuPanel(mainFrame : Main)
        __methods__
        - loadImages() : void
        - createMenuButtons() : void
        - createStyledButton(text : String, font : Font, bgColor : Color, borderColor : Color) : JButton
        # paintComponent(g : Graphics) : void
        - startGame() : void
        - showStats() : void
        - showUpgrade() : void
    }
    
    class GamePanel <<JPanel>> {
        - mainFrame : Main
        - player : PlayerSlime
        - enemy : EnemySlime
        - backgroundImage : BufferedImage
        - playerIdleImage : BufferedImage
        - enemyIdleImage : BufferedImage
        - battleInProgress : boolean
        - battleLog : String
        - animationFrame : int
        - playerAttackThread : Thread
        - enemyAttackThread : Thread
        - {final} battleLock : Object
        - {volatile} playerAnimating : boolean
        - {volatile} enemyAnimating : boolean
        __constructor__
        + GamePanel(mainFrame : Main, player : PlayerSlime)
        __methods__
        - loadImages() : void
        - createUI() : void
        - startBattle() : void
        - startPlayerAttackThread() : void
        - startEnemyAttackThread() : void
        - playerAttack() : void
        - enemyAttack() : void
        - endBattle(playerWon : boolean) : void
        - nextRound() : void
        - retryRound() : void
        - returnToMenu() : void
        # paintComponent(g : Graphics) : void
        - drawHealthBar(g2d : Graphics2D, x : int, y : int, width : int, height : int, currentHP : int, maxHP : int, fullColor : Color, emptyColor : Color) : void
    }
}

' Player package
package "com.player" <<Rectangle>> {
    abstract class Player {
        - health : int
        - maxHealth : int
        - Damege : double
        - attackSpeed : double
        - name : String
        __constructor__
        + Player()
        __methods__
        + getName() : String
        + setName(name : String) : void
        + getDamege() : double
        + setDamege(Damege : double) : void
        + getAttackSpeed() : double
        + setAttackSpeed(attackSpeed : double) : void
        + getHealth() : int
        + setHealth(health : int) : void
        + getMaxHealth() : int
        + setMaxHealth(maxHealth : int) : void
        + isAlive() : boolean
    }
    
    class PlayerSlime {
        - skillPoints : int
        - roundsWon : int
        __constructor__
        + PlayerSlime()
        __methods__
        + getSkillPoints() : int
        + addSkillPoints(points : int) : void
        + getRoundsWon() : int
        + incrementRoundsWon() : void
        + resetForNewRound() : void
        + takeDamage(damage : double) : void
    }
    
    class EnemySlime {
        - level : int
        __constructor__
        + EnemySlime(level : int)
        __methods__
        + getLevel() : int
        + takeDamage(damage : double) : void
    }
}

' Inheritance Relationships
PlayerSlime -up-|> Player : <<extends>>
EnemySlime -up-|> Player : <<extends>>
Main -up-|> JFrame : <<extends>>
MenuPanel -up-|> JPanel : <<extends>>
GamePanel -up-|> JPanel : <<extends>>

' Composition and Association Relationships
Main "1" *-down- "1" MenuPanel : contains >
Main "1" *-down- "0..1" GamePanel : contains >
Main "1" o-right- "1" PlayerSlime : manages >

MenuPanel -up-> Main : uses
MenuPanel ..> PlayerSlime : <<accesses>>

GamePanel -up-> Main : uses
GamePanel "1" o-- "1" PlayerSlime : has >
GamePanel "1" o-- "1" EnemySlime : battles >

@enduml
